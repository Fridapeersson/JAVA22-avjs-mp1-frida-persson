const e=document.getElementById("highscoreList");async function t(){const t=await fetch("https://miniprojekt1-3dbf4-default-rtdb.europe-west1.firebasedatabase.app/highscore.json"),o=await t.json();console.log(o);const n=Object.values(o);console.log(n),n.sort(((e,t)=>t.score-e.score));const r=document.createElement("ol");for(let t=0;t<n.length;t++){const o=`${n[t].name} ${n[t].score}`,c=document.createElement("li");c.textContent=o,r.append(c),e.append(r)}}async function o(e,o){const n=await fetch("https://miniprojekt1-3dbf4-default-rtdb.europe-west1.firebasedatabase.app/highscore.json"),r=await n.json();let c=999,s=null;for(const e in r){const t=r[e];console.log(t),t.score<=c&&(c=t.score,s=e)}if(o>c){const n={name:e,score:o},r={method:"PATCH",body:JSON.stringify(n),headers:{"content-type":"application.json; charset=UTF-8"}},c=`https://miniprojekt1-3dbf4-default-rtdb.europe-west1.firebasedatabase.app/highscore/${s}.json`;await fetch(c,r),t()}else(o===c||o<c)&&t()}function n(){document.querySelectorAll(".buttonChoice").forEach((e=>e.remove()))}t();const r=document.getElementById("highscoreList"),c=document.querySelector("form Button"),s=document.querySelector(".inputPlayerName");c.addEventListener("click",(e=>{e.preventDefault();const t=s.value,o=document.querySelector(".playerName"),n=document.querySelector("#errorMessage");if(""===t)n.textContent="You need to enter your name to start the game!";else{o.textContent=`${t} chose: `,o.append(a);document.querySelector("#form").remove(),u.forEach((e=>e.disabled=!1))}}));const a=document.querySelector("#playerText"),i=document.querySelector("#computerText"),l=document.querySelector("#resultText"),u=document.querySelectorAll(".buttonChoice");let d,p,m;u.forEach((e=>e.disabled=!0));let f=0,h=document.querySelector(".playerScore");h.innerText=0,u.forEach((e=>e.addEventListener("click",(()=>{d=e.textContent,a.innerText=`${d}`,function(){const e=Math.floor(Math.random()*u.length)+1;1===e?p="Rock":2===e?p="Paper":3===e&&(p="Scissors")}(),i.innerText=`Computer chose: ${p}`,l.innerText=`Winner: ${function(){if(d===p)return m="It's a draw",m;if("Rock"===d&&"Scissors"===p||"Paper"===d&&"Rock"===p||"Scissors"===d&&"Paper"===p)return m="You won this round!",f++,h.textContent=f,m;("Rock"===p&&"Paper"===d||"Paper"===p&&"Rock"===d||"Scissors"===p&&"Paper"===d||"Rock"===p&&"Scissors"===d)&&(m="You lost, try again!",n(),o(s.value,f),r.textContent="");return m}()}`}))));document.querySelector("#playAgain").addEventListener("click",(function(){window.location.reload()}));
//# sourceMappingURL=index.2f9658ae.js.map
